<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inazuma Eleven - Loading</title>
    <style>
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
        }
        
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            overflow: hidden; 
            background: #0a0e27; 
        }
        
        /* Image de fond */
        #background { 
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%; 
            background-image: url('loading_background.png'); 
            background-size: cover; 
            background-position: center; 
            z-index: 1;
            filter: brightness(1.05);
        }
        
        /* Overlay subtil */
        #overlay { 
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%; 
            background: linear-gradient(to right, rgba(10, 14, 39, 0.75) 0%, rgba(10, 14, 39, 0.3) 40%, transparent 70%);
            z-index: 2; 
        }
        
        /* Container principal */
        #content-wrapper {
            position: fixed;
            top: 0;
            left: 0;
            width: 500px;
            height: 100%;
            z-index: 3;
            padding: 70px 60px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        
        /* Header avec sprite anim√© et titre */
        #header {
            animation: fadeInDown 0.8s ease;
        }
        
        /* Animation du sprite running */
        #running-sprite {
            width: 100px;
            height: 100px;
            margin-bottom: 20px;
            background-image: url('running_sprite.png');
            background-size: 400% 300%; /* 4 colonnes x 3 lignes */
            animation: run 0.8s steps(12) infinite;
            filter: drop-shadow(0 6px 20px rgba(79, 172, 254, 0.5));
        }
        
        @keyframes run {
            0% { background-position: 0% 0%; }
            8.33% { background-position: 25% 0%; }
            16.66% { background-position: 50% 0%; }
            25% { background-position: 75% 0%; }
            33.33% { background-position: 0% 33.33%; }
            41.66% { background-position: 25% 33.33%; }
            50% { background-position: 50% 33.33%; }
            58.33% { background-position: 75% 33.33%; }
            66.66% { background-position: 0% 66.66%; }
            75% { background-position: 25% 66.66%; }
            83.33% { background-position: 50% 66.66%; }
            91.66% { background-position: 75% 66.66%; }
            100% { background-position: 0% 0%; }
        }
        
        #title {
            font-size: 48px;
            font-weight: 800;
            color: #fff;
            margin-bottom: 10px;
            letter-spacing: 3px;
            text-shadow: 
                0 0 20px rgba(79, 172, 254, 0.5),
                0 4px 15px rgba(0, 0, 0, 0.7);
            background: linear-gradient(135deg, #fff 0%, #88ccff 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        #subtitle {
            font-size: 16px;
            color: #88ccff;
            font-weight: 300;
            letter-spacing: 2px;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
        }
        
        /* Section centrale */
        #middle-section {
            display: flex;
            flex-direction: column;
            gap: 30px;
            animation: fadeIn 1s ease 0.3s both;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* File d'attente */
        #queue-block {
            background: linear-gradient(135deg, rgba(79, 172, 254, 0.2) 0%, rgba(0, 242, 254, 0.15) 100%);
            border: 2px solid rgba(79, 172, 254, 0.3);
            padding: 30px 28px;
            border-radius: 12px;
            display: none;
            backdrop-filter: blur(10px);
            box-shadow: 
                0 8px 32px rgba(79, 172, 254, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }
        
        .queue-label {
            font-size: 12px;
            color: #88ccff;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 12px;
            font-weight: 600;
        }
        
        #queue-position {
            font-size: 56px;
            font-weight: 800;
            color: #00f2fe;
            text-shadow: 
                0 0 30px rgba(0, 242, 254, 0.8),
                0 4px 15px rgba(0, 0, 0, 0.5);
            margin-bottom: 10px;
            letter-spacing: 2px;
        }
        
        #queue-info {
            font-size: 15px;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 6px;
            font-weight: 400;
        }
        
        #queue-eta {
            font-size: 13px;
            color: #88ccff;
            font-weight: 300;
        }
        
        /* Infos serveur/carte */
        .info-item {
            margin-bottom: 25px;
        }
        
        .info-label {
            font-size: 11px;
            color: #88ccff;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 8px;
            font-weight: 600;
        }
        
        .info-value {
            font-size: 22px;
            color: #fff;
            font-weight: 600;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
            letter-spacing: 0.5px;
        }
        
        /* Barre de progression */
        #progress-section {
            margin-top: 15px;
        }
        
        #progress-container {
            width: 100%;
            height: 10px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 14px;
            box-shadow: 
                inset 0 2px 4px rgba(0, 0, 0, 0.3),
                0 1px 0 rgba(255, 255, 255, 0.05);
        }
        
        #progress-bar {
            width: 0%;
            height: 100%;
            background: linear-gradient(90deg, #4facfe 0%, #00f2fe 100%);
            transition: width 0.3s ease;
            box-shadow: 0 0 20px rgba(79, 172, 254, 0.8);
            position: relative;
            overflow: hidden;
        }
        
        #progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            animation: shimmer 2s infinite;
        }
        
        @keyframes shimmer {
            to { left: 100%; }
        }
        
        #status {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.8);
            font-weight: 300;
            text-shadow: 0 2px 6px rgba(0, 0, 0, 0.5);
        }
        
        /* Footer vide pour espacer */
        #footer {
            height: 50px;
        }
    </style>
</head>
<body>
    <audio id="loading-music" loop>
        <source src="https://elyox93800-design.github.io/mon-loading-gmod/loading_sound.mp3" type="audio/mpeg">
    </audio>

    <div id="background"></div>
    <div id="overlay"></div>

    <div id="content-wrapper">
        <!-- Header -->
        <div id="header">
            <div id="running-sprite"></div>
            <div id="title">INAZUMA ELEVEN</div>
            <div id="subtitle">Rejoins l'√©quipe !</div>
        </div>

        <!-- Middle Section -->
        <div id="middle-section">
            <!-- File d'attente -->
            <div id="queue-block">
                <div class="queue-label">üìã File d'attente</div>
                <div id="queue-position">#0</div>
                <div id="queue-info">En attente de connexion...</div>
                <div id="queue-eta">Temps estim√© : --</div>
            </div>

            <!-- Infos serveur et carte -->
            <div class="info-item">
                <div class="info-label">Serveur</div>
                <div class="info-value" id="server-name">Chargement...</div>
            </div>

            <div class="info-item">
                <div class="info-label">Carte</div>
                <div class="info-value" id="map-name">Chargement...</div>
            </div>

            <!-- Progression -->
            <div id="progress-section">
                <div class="info-label" style="margin-bottom: 12px;">Progression</div>
                <div id="progress-container">
                    <div id="progress-bar"></div>
                </div>
                <div id="status">Connexion au serveur...</div>
            </div>
        </div>

        <div id="footer"></div>
    </div>

    <script>
        var music = document.getElementById('loading-music');
        music.volume = 0.02;

        function startMusic() {
            music.play().then(function() {
                console.log("Musique d√©marr√©e");
            }).catch(function(e) {
                console.log("En attente d'interaction...");
            });
        }

        function GameDetails(servername, serverurl, mapname, maxplayers, steamid, gamemode) {
            document.getElementById('server-name').textContent = servername;
            document.getElementById('map-name').textContent = mapname;
            startMusic();
        }

        window.addEventListener('click', function() {
            startMusic();
        });

        var forcePlay = setInterval(function() {
            if (!music.paused) {
                clearInterval(forcePlay);
            } else {
                startMusic();
            }
        }, 1000);

        function SetStatusChanged(status) { 
            document.getElementById('status').textContent = status; 
        }
        
        function DownloadingFile(fileName) { 
            document.getElementById('status').textContent = 'T√©l√©chargement: ' + fileName; 
        }
        
        let progress = 0;
        setInterval(function() {
            if (progress < 95) {
                progress += Math.random() * 0.5;
                document.getElementById('progress-bar').style.width = progress + '%';
            }
        }, 100);

        var queueBlock = document.getElementById('queue-block');
        var queuePosition = document.getElementById('queue-position');
        var queueInfo = document.getElementById('queue-info');
        var queueEta = document.getElementById('queue-eta');
        
        var simulatedQueue = Math.floor(Math.random() * 15) + 1;
        var currentQueuePosition = simulatedQueue;
        
        if (simulatedQueue > 0) {
            queueBlock.style.display = 'block';
            updateQueueDisplay();
        }
        
        function updateQueueDisplay() {
            queuePosition.textContent = '#' + currentQueuePosition;
            
            if (currentQueuePosition === 1) {
                queueInfo.textContent = 'Connexion imminente...';
                queueEta.textContent = 'Quelques secondes';
            } else {
                var playersAhead = currentQueuePosition - 1;
                queueInfo.textContent = playersAhead + ' joueur' + (playersAhead > 1 ? 's' : '') + ' devant vous';
                var estimatedTime = currentQueuePosition * 5;
                queueEta.textContent = 'Temps estim√© : ~' + estimatedTime + 's';
            }
        }
        
        var queueInterval = setInterval(function() {
            if (currentQueuePosition > 0) {
                currentQueuePosition--;
                updateQueueDisplay();
                
                if (currentQueuePosition === 0) {
                    setTimeout(function() {
                        queueBlock.style.display = 'none';
                        clearInterval(queueInterval);
                    }, 2000);
                }
            }
        }, Math.random() * 4000 + 3000);
    </script>
</body>
</html>
